(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{9871:function(e,t,n){Promise.resolve().then(n.bind(n,297))},297:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(7573),s=n(7653),o=n(2859),a=n(2056),c=n.n(a),l=n(3613);function i(){let e=(0,o.useRouter)();return(0,s.useEffect)(()=>{let t=t=>{t.target instanceof HTMLInputElement||t.target instanceof HTMLTextAreaElement||("1"===t.key&&e.push("/stage-1"),"2"===t.key&&e.push("/stage-2"),"3"===t.key&&e.push("/stage-3"))};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[e]),(0,r.jsx)("div",{className:"min-h-screen bg-black p-4 md:p-8",children:(0,r.jsxs)("div",{className:"max-w-3xl mx-auto",children:[(0,r.jsxs)("div",{className:"mb-8 border-b border-green-500 pb-4",children:[(0,r.jsx)(l.U,{level:1,className:"mb-2",children:"EzReport Web Console"}),(0,r.jsx)("p",{className:"text-green-500 font-mono text-sm opacity-80",children:"Sprint Report Workflow Control Panel"})]}),(0,r.jsx)(l.jB,{className:"mb-8",children:(0,r.jsx)(l.tS,{})}),(0,r.jsxs)(l.jB,{children:[(0,r.jsx)(l.U,{level:2,className:"mb-6",children:"[ WORKFLOW STAGES ]"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)(d,{href:"/stage-1",number:1,title:"Сбор данных и валидация",description:"Сбор данных из Jira, оценка качества и полноты информации"}),(0,r.jsx)(d,{href:"/stage-2",number:2,title:"Генерация отчёта по блокам",description:"Пошаговая генерация каждого блока с просмотром промптов и входных данных"}),(0,r.jsx)(d,{href:"/stage-3",number:3,title:"Финальная валидация",description:"Проверка полного отчёта по правилам и готовность для партнёра"})]})]}),(0,r.jsxs)("div",{className:"mt-8 text-green-500/60 font-mono text-xs",children:[(0,r.jsx)("div",{className:"mb-1",children:"[ KEYBOARD SHORTCUTS ]"}),(0,r.jsx)("div",{children:"Press number keys (1, 2, 3) to navigate to stages"})]})]})})}function d(e){let{href:t,number:n,title:s,description:o}=e;return(0,r.jsx)(c(),{href:t,className:"block border border-green-500 p-4 hover:bg-green-500 hover:text-black transition-colors group",children:(0,r.jsxs)("div",{className:"flex items-start gap-4",children:[(0,r.jsxs)("div",{className:"text-green-500 group-hover:text-black font-mono text-xl",children:["[",n,"]"]}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"font-mono text-lg text-green-500 group-hover:text-black mb-1",children:["Stage ",n," — ",s]}),(0,r.jsx)("div",{className:"font-mono text-sm text-green-500/70 group-hover:text-black/70",children:o})]}),(0,r.jsx)("div",{className:"text-green-500 group-hover:text-black font-mono",children:"→"})]})})}},3613:function(e,t,n){"use strict";n.d(t,{tS:function(){return x},RD:function(){return a},fm:function(){return l},U:function(){return o},xj:function(){return c},jB:function(){return s}});var r=n(7573);function s(e){let{children:t,className:n=""}=e;return(0,r.jsx)("div",{className:"border border-green-500 p-6 bg-black shadow-[0_0_10px_rgba(0,255,0,0.3)] ".concat(n),children:t})}function o(e){let{children:t,level:n=2,className:s=""}=e,o="h".concat(n);return(0,r.jsx)(o,{className:"".concat("text-green-500 font-mono"," ").concat({1:"text-2xl md:text-3xl",2:"text-xl",3:"text-lg"}[n]," ").concat(s),children:t})}function a(e){let{children:t,onClick:n,disabled:s=!1,variant:o="primary",className:a="",type:c="button"}=e;return(0,r.jsx)("button",{type:c,onClick:n,disabled:s,className:"".concat("border border-green-500 px-4 py-3 font-mono transition-colors disabled:opacity-50 disabled:cursor-not-allowed"," ").concat({primary:"text-green-500 hover:bg-green-500 hover:text-black",secondary:"text-green-500/70 hover:bg-green-500/20 hover:text-green-400"}[o]," ").concat(a),children:t})}function c(e){let{label:t,value:n,onChange:s,disabled:o=!1,placeholder:a="",type:c="text",className:l=""}=e,i="w-full bg-black border border-green-500 text-green-500 px-3 py-2 font-mono focus:outline-none focus:ring-1 focus:ring-green-500 disabled:opacity-50";return(0,r.jsxs)("div",{className:l,children:[(0,r.jsx)("label",{className:"block text-green-500 font-mono text-sm mb-1",children:t}),"textarea"===c?(0,r.jsx)("textarea",{value:n,onChange:e=>s(e.target.value),disabled:o,placeholder:a,className:"".concat(i," min-h-[100px] text-xs")}):(0,r.jsx)("input",{type:"text",value:n,onChange:e=>s(e.target.value),disabled:o,placeholder:a,className:i})]})}function l(e){let{label:t,checked:n,onChange:s,disabled:o=!1,className:a=""}=e,c="checkbox-".concat(t.toLowerCase().replace(/\s+/g,"-"));return(0,r.jsxs)("div",{className:"flex items-center space-x-2 ".concat(a),children:[(0,r.jsx)("input",{type:"checkbox",id:c,checked:n,onChange:e=>s(e.target.checked),disabled:o,className:"w-4 h-4 bg-black border border-green-500 text-green-500 focus:ring-1 focus:ring-green-500 disabled:opacity-50"}),(0,r.jsx)("label",{htmlFor:c,className:"text-green-500 font-mono text-sm",children:t})]})}var i=n(7653),d=n(9811);function x(){let[e,t]=(0,i.useState)("checking");return(0,i.useEffect)(()=>{let e=async()=>{let e=await (0,d.q)();t(e?"online":"offline")};e();let n=setInterval(e,5e3);return()=>clearInterval(n)},[]),(0,r.jsxs)("div",{className:"text-green-500 font-mono text-sm mb-2",children:["checking"===e&&"[BACKEND: CHECKING...]","online"===e&&"[BACKEND: ONLINE]","offline"===e&&(0,r.jsx)("span",{className:"text-red-500",children:"[BACKEND: OFFLINE]"})]})}},9811:function(e,t,n){"use strict";n.d(t,{j:function(){return a},q:function(){return o}});var r=n(4850);let s=r.env.NEXT_PUBLIC_API_BASE_URL||"http://localhost:4000";async function o(){try{let e=await fetch("".concat(s,"/api/workflow/ping"),{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)return!1;let t=await e.json();return"ok"===t.status}catch(e){return console.error("Ping failed:",e),!1}}async function a(e,t){let n=await fetch("".concat(s,"/api/workflow/run-step"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({step:e,params:t})});if(!n.ok){let e=await n.text();throw Error("API request failed: ".concat(n.status," ").concat(n.statusText).concat(e?" - "+e:""))}return n.json()}},2859:function(e,t,n){e.exports=n(7892)}},function(e){e.O(0,[833,293,858,744],function(){return e(e.s=9871)}),_N_E=e.O()}]);